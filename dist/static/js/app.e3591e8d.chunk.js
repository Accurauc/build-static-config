(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{295:function(e,t,n){"use strict";n.d(t,"a",(function(){return ue}));var a,r=n(0),o=n.n(r),c=n(27),l=n(4),i=n(260),u=n(470),m=n(471),d=n(9),s=n.n(d),f=n(105),E=n(96),g=n(99),p=n(5),b=n(94),S=n(285),y=n(29),v=n.n(y),h=function(e){var t=e.showPoundSign,n=e.text,a=e.onPressCallback,r=void 0===a?function(){}:a;return o.a.createElement(l.a,null,o.a.createElement(c.a,{onPress:r},t?"#"+n:n))},x=function(e){var t=e.item,n=e.onPress,a=e.style,r=e.showPoundSign;return o.a.createElement(b.a,{onPress:n,style:[C.item,a]},o.a.createElement(h,v()({style:C.title},t,{showPoundSign:r})))},k=function(e){var t=e.hashtagList,n=e.showPoundSign,a=e.onSelectionCallBack,c=void 0===a?function(e){}:a,l=Object(r.useState)(null),i=s()(l,2),u=i[0],m=i[1];return 0===(null==t?void 0:t.length)?o.a.createElement(o.a.Fragment,null):o.a.createElement(E.a,null,o.a.createElement(f.a,{style:C.list,horizontal:!0,data:t,renderItem:function(e){var t=e.item,a=t.id===u?"#E83468":"#FFFFFF";return o.a.createElement(x,{showPoundSign:n,item:t,onPress:function(){m(t.id),c(t)},style:{borderBottomWidth:"thick",borderBottomColor:a,backgroundColor:"#FFFFFF"}})},keyExtractor:function(e){return null==e?void 0:e.id},extraData:u}))},C=p.a.create({list:{height:50,flexGrow:0},item:{padding:20},title:{fontSize:16}});!function(e){e[e.Like=0]="Like",e[e.Dislike=1]="Dislike"}(a||(a={}));var T=n(472),I=function(e){var t=e.initialCount,n=e.feedbackType,c=Object(r.useState)(0),i=s()(c,2),u=i[0],m=i[1];return Object(r.useEffect)((function(){m(t)}),[t]),o.a.createElement(l.a,{style:O.feedbackButton},o.a.createElement(T.a.Button,{name:n===a.Like?"thumbs-up":"thumbs-down",backgroundColor:"#FFFFFF",onPress:function(){return m(u+1)},size:24,color:"black"}),o.a.createElement(l.a,{style:O.count},u))},O=p.a.create({feedbackButton:{margin:10,padding:10,display:"flex",flexDirection:"row",flex:1,justifyContent:"space-between",borderColor:"#C4C4C4",borderWidth:3,borderRadius:50},count:{margin:10}}),R=n(196),w=n.n(R),P=n(55);function A(){var e=w()(["\n  query Memes_By_Tag($tag: String!) {\n    memesByTag(tag: $tag) {\n      id\n      author {\n        id\n        name\n      }\n      tags\n      url\n      createTime\n      counter {\n        likeCount\n        dislikeCount\n      }\n    }\n  }\n"]);return A=function(){return e},e}function L(){var e=w()(["\n  query Popular_Tags {\n    popularTags\n  }\n"]);return L=function(){return e},e}var D=Object(P.gql)(L()),j=Object(P.gql)(A()),N=n(87),F=n(468),B=function(e){e.id;var t=e.imageUrl,n=e.name;return o.a.createElement(l.a,{style:H.user},t?o.a.createElement(N.a,{source:{uri:t}}):o.a.createElement(F.a,{name:"user",size:36,color:"black"}),o.a.createElement(c.a,{style:H.name},n))},H=p.a.create({user:{display:"flex",flexDirection:"row",flex:1,margin:5},name:{margin:5,display:"flex",alignItems:"center"}}),U=n(433),M=function(e){var t=e.creationTime,n=e.discussionCount,a=e.shareCount,i=t?new Date(t):new Date,u=Object(r.useState)(0),m=s()(u,2),d=m[0],f=m[1],E=Object(r.useState)(0),g=s()(E,2),p=g[0],b=g[1];Object(r.useEffect)((function(){n&&f(n),a&&b(a)}),[n,a]);var S=t?(i.getMonth()+1).toString().padStart(2,"0")+"/"+i.getDate().toString().padStart(2,"0")+"/"+i.getFullYear().toString().padStart(4,"0")+" "+i.getHours().toString().padStart(2,"0")+":"+i.getMinutes().toString().padStart(2,"0")+":"+i.getSeconds().toString().padStart(2,"0"):"";return o.a.createElement(l.a,{style:W.container},o.a.createElement(l.a,{style:W.date},o.a.createElement(c.a,null,S)),o.a.createElement(l.a,{style:W.number},o.a.createElement(c.a,null,"Discussion: "+d+" > 1 : "+U("Discussion")+' : "Discussion"'),o.a.createElement(c.a,null,"Share: "+p+" > 1 : "+U("Share")+' : "Share"')))},W=p.a.create({container:{display:"flex",flexDirection:"column"},date:{display:"flex",flexDirection:"row-reverse",flex:1},number:{display:"flex",flexDirection:"row-reverse",flex:1}}),z=function(e){e.imageUrl;return o.a.createElement(l.a,{style:G.container},o.a.createElement(F.a,{name:"picture",size:300,color:"black"}))},G=p.a.create({container:{display:"flex",flexDirection:"row",justifyContent:"space-evenly"}}),V=function(e){var t,n,r,c,i,u,m,d,s,f=e.item,E=e.onPress;return o.a.createElement(b.a,{onPress:E,style:[Q.item,Q.background]},o.a.createElement(l.a,{style:Q.memeHeaderInfo},o.a.createElement(B,{id:null==f||null==(t=f.author)?void 0:t.id,name:null==f||null==(n=f.author)?void 0:n.name}),o.a.createElement(M,{creationTime:null!=(r=null==f?void 0:f.createTime)?r:""})),o.a.createElement(l.a,null,o.a.createElement(z,{imageUrl:null==f?void 0:f.url})),o.a.createElement(l.a,null,o.a.createElement(k,{hashtagList:null!=(c=null==f||null==(i=f.tags)?void 0:i.map((function(e){return{id:e,text:e}})))?c:[],showPoundSign:!1})),o.a.createElement(l.a,{style:Q.feedbackButton},o.a.createElement(I,{initialCount:null!=(u=null==f||null==(m=f.counter)?void 0:m.likeCount)?u:0,feedbackType:a.Like}),o.a.createElement(I,{initialCount:null!=(d=null==f||null==(s=f.counter)?void 0:s.dislikeCount)?d:0,feedbackType:a.Dislike})))};function q(e){e.navigation;var t,n=Object(r.useState)(null),a=s()(n,2),c=a[0],i=a[1],u=Object(r.useState)(""),m=s()(u,2),d=m[0],g=m[1],p=Object(P.useQuery)(D),b=p.loading,y=p.data,v=Object(P.useQuery)(j,{skip:!(null==y?void 0:y.popularTags),variables:{tag:d}}),h=(v.loading,v.data),x=b?[]:y.popularTags.map((function(e){return{id:e,text:e}}));Object(r.useEffect)((function(){!d&&(null==x?void 0:x.length)>0&&g(x[0].text)}));return b?o.a.createElement(l.a,{style:[Z.container,Z.horizontal]},o.a.createElement(S.a,{size:"large"})):o.a.createElement(o.a.Fragment,null,o.a.createElement(k,{hashtagList:x,showPoundSign:!1,onSelectionCallBack:function(e){g(e.text)}}),o.a.createElement(E.a,{style:Q.container},o.a.createElement(f.a,{data:null!=(t=null==h?void 0:h.memesByTag)?t:[],renderItem:function(e){var t=e.item;return o.a.createElement(V,{item:t,onPress:function(){return i(t.id)}})},keyExtractor:function(e){return e.id},extraData:c})))}var Q=p.a.create({background:{backgroundColor:"#ffffff"},container:{flex:1,marginTop:g.a.currentHeight||0},item:{padding:20,marginVertical:1,marginHorizontal:0,display:"flex"},memeHeaderInfo:{display:"flex",flex:1,flexDirection:"row"},feedbackButton:{display:"flex",flex:1,flexDirection:"row"}}),Z=p.a.create({container:{flex:1,justifyContent:"center"},horizontal:{flexDirection:"row",justifyContent:"space-around",padding:10}}),Y=n(296),_=[{name:"TURQUOISE",code:"#1abc9c"},{name:"EMERALD",code:"#2ecc71"},{name:"PETER RIVER",code:"#3498db"},{name:"AMETHYST",code:"#9b59b6"},{name:"WET ASPHALT",code:"#34495e"},{name:"GREEN SEA",code:"#16a085"},{name:"NEPHRITIS",code:"#27ae60"},{name:"BELIZE HOLE",code:"#2980b9"},{name:"WISTERIA",code:"#8e44ad"},{name:"MIDNIGHT BLUE",code:"#2c3e50"},{name:"SUN FLOWER",code:"#f1c40f"},{name:"CARROT",code:"#e67e22"},{name:"ALIZARIN",code:"#e74c3c"},{name:"CLOUDS",code:"#ecf0f1"},{name:"CONCRETE",code:"#95a5a6"},{name:"ORANGE",code:"#f39c12"},{name:"PUMPKIN",code:"#d35400"},{name:"POMEGRANATE",code:"#c0392b"},{name:"SILVER",code:"#bdc3c7"},{name:"ASBESTOS",code:"#7f8c8d"},{name:"TURQUOISE",code:"#1abc9c"},{name:"EMERALD",code:"#2ecc71"},{name:"PETER RIVER",code:"#3498db"},{name:"AMETHYST",code:"#9b59b6"},{name:"WET ASPHALT",code:"#34495e"},{name:"GREEN SEA",code:"#16a085"},{name:"NEPHRITIS",code:"#27ae60"},{name:"BELIZE HOLE",code:"#2980b9"},{name:"WISTERIA",code:"#8e44ad"},{name:"MIDNIGHT BLUE",code:"#2c3e50"},{name:"SUN FLOWER",code:"#f1c40f"},{name:"CARROT",code:"#e67e22"},{name:"ALIZARIN",code:"#e74c3c"},{name:"CLOUDS",code:"#ecf0f1"},{name:"CONCRETE",code:"#95a5a6"},{name:"ORANGE",code:"#f39c12"},{name:"PUMPKIN",code:"#d35400"},{name:"POMEGRANATE",code:"#c0392b"},{name:"SILVER",code:"#bdc3c7"},{name:"ASBESTOS",code:"#7f8c8d"}];function J(e){e.navigation;var t=Object(r.useState)(null),n=s()(t,2),a=(n[0],n[1],!0),i="2020/07/14",u=1300,m=100,d="A";return o.a.createElement(o.a.Fragment,null,o.a.createElement(E.a,{style:K.container},o.a.createElement(Y.a,{itemDimension:100,data:_,style:K.gridView,fixed:!0,spacing:16,renderItem:function(e){var t=e.item;return o.a.createElement(l.a,{style:[K.itemContainer,{backgroundColor:t.code}]},o.a.createElement(c.a,{style:K.itemName},t.name),o.a.createElement(c.a,{style:K.itemCode},t.code))},ListHeaderComponent:function(){return o.a.createElement(l.a,{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",marginBottom:24}},o.a.createElement(l.a,{style:{backgroundColor:"rgba(196, 196, 196, 0.8)",borderRadius:32,height:64,width:64,display:"flex",justifyContent:"center",alignItems:"center"}},o.a.createElement(c.a,null,d)),o.a.createElement(l.a,{style:{marginLeft:8}},a?o.a.createElement(c.a,null,"\u69ae\u767b ",i," \u984c\u738b"):null,o.a.createElement(c.a,null,"\u7e3d\u7372\u5f97\u559c\u6b61 ",u," \u8a0e\u53ad ",m)))}})))}var K=p.a.create({container:{flex:1,marginTop:g.a.currentHeight||0,backgroundColor:"#ffffff"},gridView:{marginTop:10,flex:1},itemContainer:{justifyContent:"flex-end",borderRadius:5,padding:10,height:100},itemName:{fontSize:16,color:"#fff",fontWeight:"600"},itemCode:{fontWeight:"600",fontSize:12,color:"#fff"}}),$=n(286),X=n.n($),ee=new P.ApolloClient({link:new P.HttpLink({uri:"https://memetalk.herokuapp.com/graphql",fetch:X.a}),cache:new P.InMemoryCache});function te(e){e.navigation;return r.createElement(l.a,{style:{flex:1,justifyContent:"center",alignItems:"center"}},r.createElement(c.a,null,"Notification screen"))}var ne=Object(u.a)();function ae(){return r.createElement(ne.Navigator,null,r.createElement(ne.Screen,{name:"Topic",component:q}))}var re=Object(u.a)();function oe(){return r.createElement(re.Navigator,null,r.createElement(re.Screen,{name:"Profile",component:J}))}var ce=Object(u.a)();function le(){return r.createElement(ce.Navigator,null,r.createElement(ce.Screen,{name:"Notifications",component:te}))}var ie=Object(m.a)();function ue(){return r.createElement(P.ApolloProvider,{client:ee},r.createElement(i.a,null,r.createElement(ie.Navigator,null,r.createElement(ie.Screen,{name:"Topic",component:ae}),r.createElement(ie.Screen,{name:"Profile",component:oe}),r.createElement(ie.Screen,{name:"Notification",component:le}))))}},303:function(e,t,n){n(304),e.exports=n(456)},304:function(e,t){"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/expo-service-worker.js",{scope:"/"}).then((function(e){})).catch((function(e){console.info("Failed to register service-worker",e)}))}))}},[[303,1,2]]]);
//# sourceMappingURL=app.e3591e8d.chunk.js.map